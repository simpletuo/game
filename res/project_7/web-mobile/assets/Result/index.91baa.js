window.__require=function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var p="function"==typeof __require&&__require;if(!c&&p)return p(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var s=n[a]={exports:{}};e[a][0].call(s.exports,function(t){return i(e[a][1][t]||t)},s,s.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({GameRewardPanel:[function(t,e,n){"use strict";cc._RF.push(e,"aaaedGk5GlD2JRxYRZdzrta","GameRewardPanel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GameRewardPanel=void 0;var a=t("../Script/GameDataCenter"),c=t("../Script/UIManager"),l=t("../Script/Utils"),p=cc._decorator,s=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spCoin=null,e.coins=[],e._isAddCoin=!0,e}return i(e,t),e.prototype.onEnable=function(){var t=this,e={x:-cc.view.getVisibleSize().width/2+50,y:cc.view.getVisibleSize().height/2-60},n=(a.GameDataCenter.isWin?600:300)/50;this._isAddCoin=!0;for(var o=0;o<n;++o)this.scheduleOnce(function(){t.getCoin(e)},l.Utils.randomNumber(0,100)/300);this.scheduleOnce(function(){c.UIManager.close("Result/panel/GameRewardPanel",!0)},1.3),cc.systemEvent.emit("PLAY_SOUND","resultCoin")},e.prototype.onDisable=function(){this._isAddCoin&&(this._isAddCoin=!1)},e.prototype.start=function(){this.node.zIndex=12e3},e.prototype.getCoin=function(t){var e=this,n=this.coins.splice(0,1)[0];n||((n=new cc.Node("coin")).addComponent(cc.Sprite).spriteFrame=this.spCoin),n.parent=this.node,n.x=0,n.y=-120,n.scale=.8,cc.tween(n).then(cc.jumpBy(.2,l.Utils.randomNumber(-100,100),l.Utils.randomNumber(-100,-10),50,1)).then(cc.jumpBy(.1,0,0,50,1)).delay(.3).to(.3,{x:t.x,y:t.y}).call(function(){e._isAddCoin&&(e._isAddCoin=!1),n.parent=null,e.coins.push(n)}).start()},r([u({type:cc.SpriteFrame,tooltip:"\u91d1\u5e01"})],e.prototype,"spCoin",void 0),r([s],e)}(cc.Component);n.GameRewardPanel=d,cc._RF.pop()},{"../Script/GameDataCenter":void 0,"../Script/UIManager":void 0,"../Script/Utils":void 0}],ResultPanel:[function(t,e,n){"use strict";cc._RF.push(e,"e6cf5OW19lMnI3vLkNmWN4Y","ResultPanel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ResultPanel=void 0;var a=t("../Script/GameDataCenter"),c=t("../Script/GameManager"),l=t("../Script/UIManager"),p=t("../Script/Utils"),s=cc._decorator,u=s.ccclass,d=s.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logoWin=null,e.logoFail=null,e.videoBtn=null,e.lightButton=null,e.coin=null,e.enemy=null,e.city=null,e.laba=null,e.shu=null,e.coinDisplay=null,e.continueBtn=null,e.continueImgArr=[],e._isButton=!0,e}return i(e,t),e.prototype.onEnable=function(){c.GameManager.gameState==c.EGAMESTATE.WIN?(this.continueBtn.getComponent(cc.Sprite).spriteFrame=this.continueImgArr[0],this.logoWin.active=!0,this.logoFail.active=!1,a.GameDataCenter.curGetCoin+=a.GameDataCenter.extraGetCoin+p.Utils.randomNumber(330,400)):(this.continueBtn.getComponent(cc.Sprite).spriteFrame=this.continueImgArr[1],this.logoWin.active=!1,this.logoFail.active=!0,a.GameDataCenter.curGetCoin=0,this.videoBtn.active=!1),this.coin.string=""+a.GameDataCenter.curGetCoin,this.enemy.string=""+a.GameDataCenter.killEnemy,this.city.string=""+a.GameDataCenter.totleCastle,this._isButton=!0,cc.systemEvent.on(a.GameDataCenter.EEventName.UPDATE_DATA_COIN,this.upCoinLabel,this),this.upCoinLabel()},e.prototype.onDisable=function(){cc.systemEvent.off(a.GameDataCenter.EEventName.UPDATE_DATA_COIN,this.upCoinLabel,this),l.UIManager.close("Result/GameRewardPanel",!0),this.node.getChildByName("button").active=!0,a.GameDataCenter.curGetCoin=0,a.GameDataCenter.extraGetCoin=0,this.continueBtn.active=!0},e.prototype.start=function(){this.buttonLight(),this.labaAim()},e.prototype.labaAim=function(){for(var t=0;t<this.laba.children.length;t++){var e=this.laba.children[t].scaleX,n=this.laba.children[t].scaleY;cc.tween(this.laba.children[t]).to(.3,{scaleX:.9*e,scaleY:.9*n}).delay(.2).to(.3,{scaleX:e,scaleY:n}).union().repeatForever().start()}for(t=0;t<this.shu.children.length;t++)cc.tween(this.shu.children[t]).by(.8,{angle:-40}).delay(.2).by(.8,{angle:40}).union().repeatForever().start()},e.prototype.buttonLight=function(){cc.tween(this.lightButton).repeatForever(cc.tween().by(.5,{x:600}).delay(1).by(0,{x:-600}).start()).start()},e.prototype.onClickedContinue=function(){cc.systemEvent.emit("PLAY_SOUND","btnClick"),this._isButton&&this.continueGame()},e.prototype.onClickedContinueTwo=function(){cc.systemEvent.emit("PLAY_SOUND","btnClick"),this.doubleCoinLogic()},e.prototype.doubleCoinLogic=function(){a.GameDataCenter.curGetCoin*=2,a.GameDataCenter.coin+=a.GameDataCenter.curGetCoin,this.videoBtn.active=!1,l.UIManager.open("Result/GameRewardPanel"),this.scheduleOnce(function(){l.UIManager.close("Result/ResultPanel",!0),l.UIManager.open("Game/GamePanel")},2.5)},e.prototype.continueGame=function(){if(this._isButton){this._isButton=!1,this.continueBtn.active=!1,a.GameDataCenter.coin+=a.GameDataCenter.curGetCoin;var t=0;c.GameManager.gameState==c.EGAMESTATE.WIN&&(l.UIManager.open("Result/GameRewardPanel"),t=2.5),this.scheduleOnce(function(){l.UIManager.close("Result/ResultPanel",!0),l.UIManager.open("Game/GamePanel")},t)}},e.prototype.upCoinLabel=function(){this.coinDisplay.string=""+a.GameDataCenter.coin},r([d({type:cc.Node,tooltip:"\u80dc\u5229logo."})],e.prototype,"logoWin",void 0),r([d({type:cc.Node,tooltip:"\u5931\u8d25logo."})],e.prototype,"logoFail",void 0),r([d({type:cc.Node,tooltip:"\u89c6\u9891\u6309\u94ae."})],e.prototype,"videoBtn",void 0),r([d({type:cc.Node,tooltip:"light."})],e.prototype,"lightButton",void 0),r([d({type:cc.Label,tooltip:"\u91d1\u5e01\u8282\u70b9."})],e.prototype,"coin",void 0),r([d({type:cc.Label,tooltip:"\u51fb\u6740\u654c\u4eba\u8282\u70b9."})],e.prototype,"enemy",void 0),r([d({type:cc.Label,tooltip:"\u6467\u6bc1\u5821\u5792\u8282\u70b9."})],e.prototype,"city",void 0),r([d({type:cc.Node,tooltip:"\u5587\u53ed."})],e.prototype,"laba",void 0),r([d({type:cc.Node,tooltip:"\u6811"})],e.prototype,"shu",void 0),r([d({type:cc.Label,tooltip:"\u5de6\u4e0a\u89d2\u7684\u91d1\u5e01\u663e\u793a"})],e.prototype,"coinDisplay",void 0),r([d({type:cc.Node,tooltip:"\u7ee7\u7eed\u6e38\u620f\u6309\u94ae."})],e.prototype,"continueBtn",void 0),r([d({type:cc.SpriteFrame,tooltip:"\u7ee7\u7eed\u6e38\u620f\u6309\u94ae\u56fe\u7247\u6570\u7ec4"})],e.prototype,"continueImgArr",void 0),r([u],e)}(cc.Component);n.ResultPanel=h,cc._RF.pop()},{"../Script/GameDataCenter":void 0,"../Script/GameManager":void 0,"../Script/UIManager":void 0,"../Script/Utils":void 0}]},{},["GameRewardPanel","ResultPanel"]);