window.__require=function e(t,o,n){function r(a,c){if(!o[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!c&&u)return u(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var s=o[a]={exports:{}};t[a][0].call(s.exports,function(e){return r(t[a][1][e]||e)},s,s.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"8e23ehBVqFAY5T4iCmgaxbb","AudioManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioManager=void 0;var a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgm=null,t.enemyDie=null,t.monsterDie=null,t.singleThunder=null,t.singleFire=null,t.singleIce=null,t.aoeThunder=null,t.aoeSoil=null,t.attack=null,t.hit=null,t.love=null,t.win=null,t.lose=null,t.dogDie=null,t.out=null,t.getCoin=null,t.btnClick=null,t.click=null,t.heroSetPos=null,t.resultCoin=null,t.bgmID=null,t}var o;return r(t,e),o=t,t.prototype.onEnable=function(){cc.systemEvent.on("PLAY_SOUND",this.onPlaySound,this)},t.prototype.onDisable=function(){cc.systemEvent.off("PLAY_SOUND",this.onPlaySound,this)},t.prototype.start=function(){this.onPlaySound("bgm",.5,!0),o.instance=this},t.prototype.onPlaySound=function(e,t,o){void 0===t&&(t=1);var n=null,r=this[e];return r&&(n=cc.audioEngine.play(r,o||!1,t||1)),"bgm"==e&&(this.bgmID=n),n},t.prototype.stopBgm=function(){cc.audioEngine.stop(this.bgmID)},t.instance=null,i([l({type:cc.AudioClip,tooltip:"\u80cc\u666f\u97f3\u6548"})],t.prototype,"bgm",void 0),i([l({type:cc.AudioClip,tooltip:"\u4eba\u578b\u654c\u4eba\u6b7b\u4ea1\u97f3\u6548"})],t.prototype,"enemyDie",void 0),i([l({type:cc.AudioClip,tooltip:"\u86c7\u3001\u9f99\u6b7b\u4ea1\u97f3\u6548"})],t.prototype,"monsterDie",void 0),i([l({type:cc.AudioClip,tooltip:"\u5355\u4f53\u6280\u80fd\u96f7"})],t.prototype,"singleThunder",void 0),i([l({type:cc.AudioClip,tooltip:"\u5355\u4f53\u6280\u80fd\u51b0"})],t.prototype,"singleFire",void 0),i([l({type:cc.AudioClip,tooltip:"\u5355\u4f53\u6280\u80fd\u51b0"})],t.prototype,"singleIce",void 0),i([l({type:cc.AudioClip,tooltip:"aoe\u6280\u80fd\u96f7"})],t.prototype,"aoeThunder",void 0),i([l({type:cc.AudioClip,tooltip:"aoe\u6280\u80fd\u571f"})],t.prototype,"aoeSoil",void 0),i([l({type:cc.AudioClip,tooltip:"\u6325\u5200\u97f3\u6548"})],t.prototype,"attack",void 0),i([l({type:cc.AudioClip,tooltip:"\u53d7\u51fb\u97f3\u6548"})],t.prototype,"hit",void 0),i([l({type:cc.AudioClip,tooltip:"\u516c\u4e3b\u5192\u7231\u5fc3\u97f3\u6548"})],t.prototype,"love",void 0),i([l({type:cc.AudioClip,tooltip:"\u80dc\u5229"})],t.prototype,"win",void 0),i([l({type:cc.AudioClip,tooltip:"\u5931\u8d25"})],t.prototype,"lose",void 0),i([l({type:cc.AudioClip,tooltip:"\u72d7\u6b7b\u4ea1"})],t.prototype,"dogDie",void 0),i([l({type:cc.AudioClip,tooltip:"\u82f1\u96c4\u51fa\u573a\u97f3\u6548"})],t.prototype,"out",void 0),i([l({type:cc.AudioClip,tooltip:"\u51fb\u6740\u654c\u4eba\u83b7\u5f97\u91d1\u5e01"})],t.prototype,"getCoin",void 0),i([l({type:cc.AudioClip,tooltip:"\u6309\u94ae\u70b9\u51fb\u97f3\u6548"})],t.prototype,"btnClick",void 0),i([l({type:cc.AudioClip,tooltip:"\u70b9\u51fb\u97f3\u6548"})],t.prototype,"click",void 0),i([l({type:cc.AudioClip,tooltip:"\u82f1\u96c4\u653e\u7f6e\u97f3\u6548"})],t.prototype,"heroSetPos",void 0),i([l({type:cc.AudioClip,tooltip:"\u82f1\u96c4\u653e\u7f6e\u97f3\u6548"})],t.prototype,"resultCoin",void 0),o=i([c],t)}(cc.Component);o.AudioManager=u,cc._RF.pop()},{}],GameDataCenter:[function(e,t,o){"use strict";cc._RF.push(t,"9e892F+14VI4bvkZjjNwdhM","GameDataCenter"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameDataCenter=void 0;var n=e("./Store"),r=function(){function e(){}return Object.defineProperty(e,"coin",{get:function(){return e._coin=n.Store.get("COIN",0),e._coin},set:function(t){e._coin=t,n.Store.set("COIN",e._coin),cc.systemEvent.emit(e.EEventName.UPDATE_DATA_COIN,e._coin)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameLevel",{get:function(){return e._gameLevel=n.Store.get("GAME_LEVEL",1),e._gameLevel},set:function(t){e._gameLevel=t,n.Store.set("GAME_LEVEL",e._gameLevel),cc.systemEvent.emit(e.EEventName.UPDATE_DATA_GAME_LEVEL,e._gameLevel)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"lastRoomTag",{get:function(){return e._lastRoomTag},set:function(t){e._lastRoomTag=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"killEnemy",{get:function(){return e._killEnemy},set:function(t){e._killEnemy=t,cc.systemEvent.emit(e.EEventName.UPDATE_ENEMY_COUNT)},enumerable:!1,configurable:!0}),e.EEventName={UPDATE_DATA_COIN:"UPDATE_DATA_COIN",UPDATE_DATA_GAME_LEVEL:"UPDATE_DATA_GAME_LEVEL",UPDATE_ENEMY_COUNT:"UPDATE_ENEMY_COUNT"},e._coin=0,e._gameLevel=1,e.chooseLevel=0,e.isWin=!0,e.curRoomPos=cc.v2(0,0),e.tempRoomPos=cc.v2(0,0),e.standRoomPos=cc.v2(0,0),e.curCastleIndex=0,e.tempCastleIndex=0,e.lastCastleIndex=0,e.colliderRoomIndex=0,e.standRoomIndex=0,e._lastRoomTag=null,e.roomEnemyCount=0,e.roomWidth=0,e.heroAddData=0,e.skillPanelCount=0,e._killEnemy=0,e.totleCastle=1,e.totleEnemy=0,e.extraGetCoin=0,e.isCastleUp=!1,e.haveProp=!1,e.getFinalProp=!1,e.heroCanCollider=!1,e.heroCurPos=cc.v2(0,0),e.curGetCoin=200,e.fightLayerOffsetX=0,e.chooseSkillId=0,e.doubleDamageSkill=[],e.isMove=!1,e}();o.GameDataCenter=r,window.GameDataCenter=r,cc._RF.pop()},{"./Store":"Store"}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"958eakVLL9JzpgjNeZBdleh","GameManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameManager=o.EGAMESTATE=void 0;var a,c=e("./UIManager");(function(e){e[e.OVER=0]="OVER",e[e.WIN=1]="WIN",e[e.START=2]="START",e[e.FIGHT=3]="FIGHT",e[e.FIGHT_OVER=4]="FIGHT_OVER"})(a=o.EGAMESTATE||(o.EGAMESTATE={}));var l=cc._decorator,u=l.ccclass,s=l.disallowMultiple,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,Object.defineProperty(t,"gameState",{get:function(){return o._gameState},set:function(e){switch(o._gameState=e,e){case a.OVER:cc.systemEvent.emit("GAME_OVER");break;case a.WIN:cc.systemEvent.emit("GAME_WIN");case a.START:}},enumerable:!1,configurable:!0}),t.prototype.start=function(){cc.director.getCollisionManager().enabled=!0,c.UIManager.open("Loading/LoadingPanel")},t._gameState=null,t.EEventName={CLEAR_CASTLE_ENENY:"CLEAR_CASTLE_ENENY",ENEMY_DIE:"ENEMY_DIE",PLAYER_SET_POS:"PLAYER_SET_POS",CASTLE_CHANGE:"CASTLE_CHANGE",HERO_MOVE:"HERO_MOVE",PLAYER_LEAVE_ROOM:"PLAYER_LEAVE_ROOM",SKILL_OVER:"SKILL_OVER",HERO_NORMAL_ATTACK:"HERO_NORMAL_ATTACK",HERO_SKILL_ATTACK:"HERO_SKILL_ATTACK",ENEMY_NORMAL_ATTACK:"ENEMY_NORMAL_ATTACK",HERO_ADD_DATA:"HERO_ADD_DATA",GAMEPANEL_LOAD_SKILL:"GAMEPANEL_LOAD_SKILL",CHECK_ROOM_LIGHT:"CHECK_ROOM_LIGHT",GAME_OVER:"GAME_OVER",GAME_WIN:"GAME_WIN",ENEMY_LOAD_COIN:"ENEMY_LOAD_COIN"},o=i([u,s],t)}(cc.Component);o.GameManager=p,cc._RF.pop()},{"./UIManager":"UIManager"}],Store:[function(e,t,o){"use strict";cc._RF.push(t,"e4c3dmDkYFONYFLH76iM/if","Store"),Object.defineProperty(o,"__esModule",{value:!0}),o.Store=void 0;var n=function(){function e(){}return e.set=function(t,o){if(e.storeCacheDatas[t]===o){var n=typeof o;if("number"===n||"string"===n||"boolean"===n)return}e.enabledStoreCache&&(e.storeCacheDatas[t]=o);var r={type:typeof o,value:o};if(r=JSON.stringify(r),"StoreKeys"!==t){var i=e.StoreKeys||e.get("StoreKeys",{});e.StoreKeys=i,i[t]||(i[t]=1,e.set("StoreKeys",i))}cc.sys.localStorage.setItem(t,r)},e.setTodayValue=function(t,o){var n=new Date,r=n.getFullYear()+"_"+(n.getMonth()+1)+"_"+n.getDate();return e.set(t+"_"+r,o)},e.get=function(t,o){var n=e.storeCacheDatas[t];if(null!=n)return n;if(!(n=cc.sys.localStorage.getItem(t)))return e.enabledStoreCache&&e.set(t,o),o;var r=JSON.parse(n);return void 0===r.value||null===r.value?(e.enabledStoreCache&&e.set(t,o),o):(e.enabledStoreCache&&e.set(t,r.value),r.value)},e.getTodayValue=function(t,o){var n=new Date,r=n.getFullYear()+"_"+(n.getMonth()+1)+"_"+n.getDate();return e.get(t+"_"+r,o)},e.getBool=function(t,o){var n=e.get(t);return"true"===n||"false"!==n&&o},e.setBool=function(t,o){!0===o?e.set(t,"true"):e.set(t,"false")},e.enabledStoreCache=!0,e.storeCacheDatas={},e.StoreKeys=null,e}();o.Store=n,cc._RF.pop()},{}],UIManager:[function(e,t,o){"use strict";cc._RF.push(t,"5feab9Zd3tJzJpr85lKyHyc","UIManager");var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function c(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.UIManager=void 0;var i=function(){function e(){}return e.open=function(t,o){return n(this,void 0,void 0,function(){var n,i,a,c,l,u;return r(this,function(r){switch(r.label){case 0:if(!t||""===t)return[2];n=t,i=t.split("/"),t=i[i.length-1],r.label=1;case 1:return r.trys.push([1,4,,5]),(a=e.instances[t])&&a.getComponent&&a._components?(a.active=!0,e.reshow(a,t),o&&o(void 0,a),[2,a]):(l=e.assets[t])?[3,3]:[4,e.loadRes(""+n,cc.Prefab)];case 2:l=r.sent(),r.label=3;case 3:return c=l,e.assets[t]=c,a=cc.instantiate(c),e.reshow(a,t),e.instances[t]=a,o&&o(void 0,a),[2,a];case 4:return u=r.sent(),o?o(u):console.error(u),[3,5];case 5:return[2]}})})},e.close=function(t,o){var n;if(void 0===o&&(o=!1),"string"==typeof t){var r=t.split("/");t=r[r.length-1],n=e.instances[t]}else t=(n=t).name;return n?(n.active=!1,n.parent=null,o&&(e.instances[t]=void 0,n.destroy()),o?null:n):null},e.loadBundle=function(t){var o=e.getBundleName(t),n=cc.assetManager.getBundle(o.bundleName);if(n){var r=o.assetPath;return new Promise(function(e,t){n.load(r,function(o,n){if(o)return t(o);e(n)})})}return new Promise(function(e,t){cc.assetManager.loadBundle(o.bundleName,function(n,r){if(n)return t(n);r.load(o.assetPath,function(o,n){if(o)return t(o);e(n)})})})},e.getBundleName=function(e){var t="",o=e;if(-1!==e.indexOf(":")){var n=e.split(":");t=n[0],o=n[1]}else{var r=e.split("/");"ui"==r[0]?(t=r[1],o=e.replace("ui/"+r[1]+"/","")):(t=r[0],o=r[1])}return{bundleName:t,assetPath:o}},e.loadRes=function(t){var o=this;return new Promise(function(i,a){return n(o,void 0,void 0,function(){var o,n;return r(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),o=i,[4,e.loadBundle(t)];case 1:return[2,o.apply(void 0,[r.sent()])];case 2:return n=r.sent(),[2,a(n)];case 3:return[2]}})})})},e.reshow=function(e){e.parent=cc.director.getScene().getChildByName("Canvas"),e.zIndex=0},e.instances={},e.assets={},e}();o.UIManager=i;try{window.UIManager=i}catch(a){}cc._RF.pop()},{}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"6d289/yM99DqLZyZXbs3SgY","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var n=function(){function e(){}return e.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.shuffle=function(e){for(var t=e.length-1;t>=0;t--){var o=Math.floor(Math.random()*(t+1)),n=e[o];e[o]=e[t],e[t]=n}return e},e.checkInArray=function(e,t){return-1!==t.indexOf(e)},e}();o.Utils=n,cc._RF.pop()},{}]},{},["AudioManager","GameDataCenter","GameManager","Store","UIManager","Utils"]);